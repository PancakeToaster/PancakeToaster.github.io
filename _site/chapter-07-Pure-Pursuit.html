<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav > ul.nav-list:first-child > li:not(:nth-child(8)) > a, .site-nav > ul.nav-list:first-child > li > ul > li a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(8) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(8) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(8) > ul.nav-list { display: block; } </style> <script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Chapter 7: Pure Pursuit | Robot Control Documentation</title> <meta name="generator" content="Jekyll v4.4.1" /> <meta property="og:title" content="Chapter 7: Pure Pursuit" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Professional-grade control system documentation for VEX V5 robots." /> <meta property="og:description" content="Professional-grade control system documentation for VEX V5 robots." /> <link rel="canonical" href="http://localhost:4000/chapter-07-Pure-Pursuit.html" /> <meta property="og:url" content="http://localhost:4000/chapter-07-Pure-Pursuit.html" /> <meta property="og:site_name" content="Robot Control Documentation" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Chapter 7: Pure Pursuit" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Professional-grade control system documentation for VEX V5 robots.","headline":"Chapter 7: Pure Pursuit","url":"http://localhost:4000/chapter-07-Pure-Pursuit.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <header class="side-bar"> <div class="site-header"> <a href="/" class="site-title lh-tight"> Robot Control Documentation </a> <button id="menu-button" class="site-button btn-reset" aria-label="Menu" aria-expanded="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/README.html" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="/chapter-01-Autonomous-Chassis-Movement.html" class="nav-list-link">Chapter 1: Autonomous Chassis Movement</a></li><li class="nav-list-item"><a href="/chapter-02-Motor-Control-Algorithms.html" class="nav-list-link">Chapter 2: Motor Control Algorithms</a></li><li class="nav-list-item"><a href="/chapter-03-PID-Explained.html" class="nav-list-link">Chapter 3: PID Explained</a></li><li class="nav-list-item"><a href="/chapter-04-PID-Algorithm-Breakdown.html" class="nav-list-link">Chapter 4: PID Algorithm Breakdown</a></li><li class="nav-list-item"><a href="/chapter-05-Odometry.html" class="nav-list-link">Chapter 5: Odometry</a></li><li class="nav-list-item"><a href="/chapter-06-Pure-Pursuit-and-Boomerang.html" class="nav-list-link">Chapter 6: Pure Pursuit and Boomerang</a></li><li class="nav-list-item"><a href="/chapter-07-Pure-Pursuit.html" class="nav-list-link">Chapter 7: Pure Pursuit</a></li><li class="nav-list-item"><a href="/chapter-08-Boomerang.html" class="nav-list-link">Chapter 8: Boomerang</a></li><li class="nav-list-item"><a href="/chapter-09-Autonomous-Troubleshooting-Guide.html" class="nav-list-link">Chapter 9: Autonomous Troubleshooting Guide</a></li><li class="nav-list-item"><a href="/chapter-10-Documentation-of-Programming.html" class="nav-list-link">Chapter 10: Documentation of Programming</a></li><li class="nav-list-item"><a href="/appendix-A-Robot-Control-Library-Documentation.html" class="nav-list-link">Appendix A: Robot Control Library Documentation</a></li><li class="nav-list-item"><a href="/appendix-B-The-Robot-Coding-Glossary.html" class="nav-list-link">Appendix B: The Robot Coding Glossary</a></li></ul> </nav> <div class="d-md-block d-none"> <div class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </div> </div> </header> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Robot Control Documentation" autocomplete="off"> <label for="search-input" class="search-label"> <span class="sr-only">Search Robot Control Documentation</span> <svg viewBox="0 0 24 24" class="search-icon" aria-hidden="true"><use xlink:href="#svg-search"></use></svg> </label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://github.com/PancakeToaster/PancakeToaster.github.io" class="site-button" > GitHub Repository </a> </li> </ul> </nav> </div> <div class="main-content-wrap"> <div id="main-content" class="main-content"> <main> <h3 id="Ô∏è-detailed-breakdown-how-it-works"> <a href="#Ô∏è-detailed-breakdown-how-it-works" class="anchor-heading" aria-labelledby="Ô∏è-detailed-breakdown-how-it-works"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> üõ†Ô∏è Detailed Breakdown: How it Works </h3> <p>The <code class="language-plaintext highlighter-rouge">moveToPoint(x, y, timeout, maxSpeed)</code> function runs through a fast internal loop (usually every 10‚Äì20 milliseconds) following these steps:</p> <ol> <li> <p><strong>Coordinate Math:</strong> It looks at your current $(x, y)$ from the tracking wheels and calculates the distance to the target $(x_{goal}, y_{goal})$.</p> </li> <li> <p><strong>Angle Calculation:</strong> It determines the <strong>Target Heading</strong>. If the robot is at $(0,0)$ and the target is at $(10,10)$, the math says ‚ÄúTurn to 45 degrees.‚Äù</p> </li> <li> <p><strong>The ‚ÄúSwing‚Äù (Curvature):</strong> This is the ‚ÄúPure Pursuit‚Äù part. Instead of stopping to turn, the code calculates how much faster the left wheels need to spin compared to the right wheels to create an arc.</p> </li> <li> <p><strong>PID Speed Control:</strong> * <strong>Linear PID:</strong> As the robot gets closer to the point, it automatically lowers the motor voltage so it doesn‚Äôt ‚ÄúBang‚Äù into the target.</p> <ul> <li><strong>Angular PID:</strong> It constantly makes tiny steering corrections to stay on the arc.</li> </ul> </li> <li> <p><strong>Exit Condition:</strong> The function ends when the robot is within a certain distance (e.g., 0.5 inches) or if the <code class="language-plaintext highlighter-rouge">timeout</code> clock runs out.</p> </li> </ol><hr /> <h3 id="-3-examples-of-movetopoint-in-action"> <a href="#-3-examples-of-movetopoint-in-action" class="anchor-heading" aria-labelledby="-3-examples-of-movetopoint-in-action"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> üìù 3 Examples of <code class="language-plaintext highlighter-rouge">moveToPoint</code> in Action </h3> <p>Here are three ways you would actually use this in your autonomous code. (Note: The specific syntax for <code class="language-plaintext highlighter-rouge">timeout</code> and <code class="language-plaintext highlighter-rouge">maxSpeed</code> might vary slightly depending on your version of the template).</p> <h4 id="example-1-the-simple-sprint"> <a href="#example-1-the-simple-sprint" class="anchor-heading" aria-labelledby="example-1-the-simple-sprint"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example 1: The Simple ‚ÄúSprint‚Äù </h4> <p>Use this for the very first move of a match to grab a goal or a game piece quickly.</p> <p>C++</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// Move to 24 inches forward and 0 inches side-to-side
// Timeout after 2000ms, max speed 100%
chassis.moveToPoint(0, 24, 2000, 100); 
</code></pre></div></div> <ul> <li><strong>Result:</strong> The robot drives straight at full speed and slows down right as it hits the 24-inch mark.</li> </ul> <h4 id="example-2-the-smooth-curve-sequential-points"> <a href="#example-2-the-smooth-curve-sequential-points" class="anchor-heading" aria-labelledby="example-2-the-smooth-curve-sequential-points"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example 2: The ‚ÄúSmooth Curve‚Äù (Sequential Points) </h4> <p>This is where the algorithm shines. By calling two points in a row, the robot doesn‚Äôt stop between them; it creates a fluid motion.</p> <p>C++</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>chassis.moveToPoint(12, 12, 1500, 80); // Move to the first corner
chassis.moveToPoint(0, 24, 1500, 80);  // Curve toward the second point
</code></pre></div></div> <ul> <li><strong>Result:</strong> Because of the curvature logic, the robot will ‚Äúround off‚Äù the first point and transition smoothly into the second move, saving precious seconds in autonomous.</li> </ul> <h4 id="example-3-reaching-backward-reverse-movement"> <a href="#example-3-reaching-backward-reverse-movement" class="anchor-heading" aria-labelledby="example-3-reaching-backward-reverse-movement"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example 3: Reaching Backward (Reverse Movement) </h4> <p>Sometimes your intake is on the front, but you need to move to a goal with your back ‚ÄúMOGO‚Äù hitch.</p> <p>C++</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// Many templates use a boolean (true/false) to indicate driving in reverse
chassis.moveToPoint(0, -24, 2000, 60, true); 
</code></pre></div></div> <ul> <li><strong>Result:</strong> The robot uses its rear-facing logic to back up toward the coordinate $(-24, 0)$ at a slower, more controlled speed (60%) to ensure it doesn‚Äôt miss the goal.</li> </ul> </main> <hr> <footer> <div class="d-md-none"> <div class="mt-4 fs-2"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </div> </div> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
